{"ast":null,"code":"import _defineProperty from\"/Users/toolie/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/toolie/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/toolie/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback}from'react';var useFormWithValidation=function useFormWithValidation(){var _React$useState=React.useState({}),_React$useState2=_slicedToArray(_React$useState,2),values=_React$useState2[0],setValues=_React$useState2[1];var _React$useState3=React.useState({}),_React$useState4=_slicedToArray(_React$useState3,2),errors=_React$useState4[0],setErrors=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),isValid=_React$useState6[0],setIsValid=_React$useState6[1];function onChange(evt){var input=evt.target;var name=input.name;var value=input.value;setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));setErrors(_objectSpread(_objectSpread({},errors),{},_defineProperty({},name,input.validationMessage)));setIsValid(input.closest('form').checkValidity());}var resetForm=useCallback(function(){var newValues=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var newErrors=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var newIsValid=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;setValues(newValues);setErrors(newErrors);setIsValid(newIsValid);},[setErrors,setIsValid,setValues]);return{values:values,setValues:setValues,errors:errors,isValid:isValid,setIsValid:setIsValid,onChange:onChange,resetForm:resetForm};};export default useFormWithValidation;","map":{"version":3,"names":["React","useCallback","useFormWithValidation","useState","values","setValues","errors","setErrors","isValid","setIsValid","onChange","evt","input","target","name","value","validationMessage","closest","checkValidity","resetForm","newValues","newErrors","newIsValid"],"sources":["/Users/toolie/dev/mesto-react/src/utils/hooks/useFormWithValidation.js"],"sourcesContent":["import React, {\n    useCallback\n} from 'react';\n\nconst useFormWithValidation = () => {\n    const [values, setValues] = React.useState({});\n    const [errors, setErrors] = React.useState({});\n    const [isValid, setIsValid] = React.useState(false);\n\n    function onChange(evt) {\n        const input = evt.target;\n        const name = input.name;\n        const value = input.value;\n\n        setValues({...values, [name]: value});\n        setErrors({...errors, [name]: input.validationMessage});\n        setIsValid(input.closest('form').checkValidity());\n    }\n\n    const resetForm = useCallback(\n        (newValues = {}, newErrors = {}, newIsValid = false) => {\n            setValues(newValues);\n            setErrors(newErrors);\n            setIsValid(newIsValid);\n        },\n        [setErrors, setIsValid, setValues]\n    )\n\n    return {\n        values,\n        setValues,\n        errors,\n        isValid,\n        setIsValid,\n        onChange,\n        resetForm,\n    }\n};\n\nexport default useFormWithValidation;"],"mappings":"0VAAA,MAAOA,MAAP,EACIC,WADJ,KAEO,OAFP,CAIA,GAAMC,sBAAqB,CAAG,QAAxBA,sBAAwB,EAAM,CAChC,oBAA4BF,KAAK,CAACG,QAAN,CAAe,EAAf,CAA5B,oDAAOC,MAAP,qBAAeC,SAAf,qBACA,qBAA4BL,KAAK,CAACG,QAAN,CAAe,EAAf,CAA5B,qDAAOG,MAAP,qBAAeC,SAAf,qBACA,qBAA8BP,KAAK,CAACG,QAAN,CAAe,KAAf,CAA9B,qDAAOK,OAAP,qBAAgBC,UAAhB,qBAEA,QAASC,SAAT,CAAkBC,GAAlB,CAAuB,CACnB,GAAMC,MAAK,CAAGD,GAAG,CAACE,MAAlB,CACA,GAAMC,KAAI,CAAGF,KAAK,CAACE,IAAnB,CACA,GAAMC,MAAK,CAAGH,KAAK,CAACG,KAApB,CAEAV,SAAS,gCAAKD,MAAL,wBAAcU,IAAd,CAAqBC,KAArB,GAAT,CACAR,SAAS,gCAAKD,MAAL,wBAAcQ,IAAd,CAAqBF,KAAK,CAACI,iBAA3B,GAAT,CACAP,UAAU,CAACG,KAAK,CAACK,OAAN,CAAc,MAAd,EAAsBC,aAAtB,EAAD,CAAV,CACH,CAED,GAAMC,UAAS,CAAGlB,WAAW,CACzB,UAAwD,IAAvDmB,UAAuD,2DAA3C,EAA2C,IAAvCC,UAAuC,2DAA3B,EAA2B,IAAvBC,WAAuB,2DAAV,KAAU,CACpDjB,SAAS,CAACe,SAAD,CAAT,CACAb,SAAS,CAACc,SAAD,CAAT,CACAZ,UAAU,CAACa,UAAD,CAAV,CACH,CALwB,CAMzB,CAACf,SAAD,CAAYE,UAAZ,CAAwBJ,SAAxB,CANyB,CAA7B,CASA,MAAO,CACHD,MAAM,CAANA,MADG,CAEHC,SAAS,CAATA,SAFG,CAGHC,MAAM,CAANA,MAHG,CAIHE,OAAO,CAAPA,OAJG,CAKHC,UAAU,CAAVA,UALG,CAMHC,QAAQ,CAARA,QANG,CAOHS,SAAS,CAATA,SAPG,CAAP,CASH,CAjCD,CAmCA,cAAejB,sBAAf"},"metadata":{},"sourceType":"module"}