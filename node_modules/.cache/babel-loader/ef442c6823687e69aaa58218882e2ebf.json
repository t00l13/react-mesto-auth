{"ast":null,"code":"var _jsxFileName = \"/Users/toolie/dev/mesto-react/src/components/App.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport { CurrentUserContext } from \"../utils/CurrentUserContext\";\nimport ConfirmPopup from \"./ConfirmPopup\";\nimport AddPhotoPopup from \"./AddPhotoPopup\";\nimport api from \"../utils/api.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [isEditProfilePopupOpen, setEditProfileClick] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarClick] = React.useState(false);\n  const [isAddPhotoPopupOpen, setAddPhotoClick] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n  React.useEffect(() => {\n    api.getUserData().then(data => {\n      setCurrentUser(data);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  function handleEditAvatarClick() {\n    setEditAvatarClick(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfileClick(true);\n  }\n\n  function handleAddPhotoClick() {\n    setAddPhotoClick(true);\n  }\n\n  function closeAllPopups() {\n    setAddPhotoClick(false);\n    setEditAvatarClick(false);\n    setEditProfileClick(false);\n  }\n\n  function handleUpdateAvatar(_ref) {\n    let {\n      avatar\n    } = _ref;\n    api.changeAvatar(avatar).then(data => {\n      setCurrentUser(data);\n      closeAllPopups();\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  function handleUpdateUser(newUserData) {\n    api.saveUserChanges(newUserData).then(data => {\n      setCurrentUser(data);\n      closeAllPopups();\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n    value: currentUser,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Main, {\n          onAddPhoto: handleAddPhotoClick,\n          onEditAvatar: handleEditAvatarClick,\n          onEditProfile: handleEditProfileClick\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(EditAvatarPopup, {\n          isOpen: isEditAvatarPopupOpen,\n          onClose: closeAllPopups,\n          onUpdateAvatar: handleUpdateAvatar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(EditProfilePopup, {\n          isOpen: isEditProfilePopupOpen,\n          onClose: closeAllPopups,\n          onUpdateAvatar: handleUpdateUser\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(AddPhotoPopup, {\n          isOpen: isAddPhotoPopupOpen,\n          onClose: closeAllPopups\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"G//iH709oZkVJ5uwq21XK/Ti/k8=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Header","Main","Footer","PopupWithForm","EditAvatarPopup","EditProfilePopup","CurrentUserContext","ConfirmPopup","AddPhotoPopup","api","App","isEditProfilePopupOpen","setEditProfileClick","useState","isEditAvatarPopupOpen","setEditAvatarClick","isAddPhotoPopupOpen","setAddPhotoClick","currentUser","setCurrentUser","useEffect","getUserData","then","data","catch","err","console","log","handleEditAvatarClick","handleEditProfileClick","handleAddPhotoClick","closeAllPopups","handleUpdateAvatar","avatar","changeAvatar","handleUpdateUser","newUserData","saveUserChanges"],"sources":["/Users/toolie/dev/mesto-react/src/components/App.js"],"sourcesContent":["import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport { CurrentUserContext } from \"../utils/CurrentUserContext\";\nimport ConfirmPopup from \"./ConfirmPopup\";\nimport AddPhotoPopup from \"./AddPhotoPopup\";\nimport api from \"../utils/api.js\";\n\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfileClick] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarClick] = React.useState(false);\n  const [isAddPhotoPopupOpen, setAddPhotoClick] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  React.useEffect(() => {\n    api.getUserData()\n    .then(data => {\n      setCurrentUser(data);\n    })\n    .catch(err => {\n      console.log(err);\n    })\n  }, []);\n\n  function handleEditAvatarClick() {\n    setEditAvatarClick(true);\n}\n\nfunction handleEditProfileClick() {\n    setEditProfileClick(true);\n}\n\nfunction handleAddPhotoClick() {\n    setAddPhotoClick(true);\n}\n\nfunction closeAllPopups() {\n  setAddPhotoClick(false);\n  setEditAvatarClick(false);\n  setEditProfileClick(false);\n}\n\nfunction handleUpdateAvatar({avatar}) {\n  api.changeAvatar(avatar)\n  .then((data) => {\n    setCurrentUser(data);\n    closeAllPopups();\n  })\n  .catch(err => {\n    console.log(err);\n  })\n}\n\nfunction handleUpdateUser(newUserData){\n  api.saveUserChanges(newUserData)\n  .then((data) => {\n    setCurrentUser(data);\n    closeAllPopups();\n  })\n  .catch(err => {\n    console.log(err);\n  })\n}\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n    <div className=\"page\">\n      <div className=\"container\">\n\n        <Header></Header>\n\n        <Main\n        onAddPhoto={handleAddPhotoClick}\n        onEditAvatar={handleEditAvatarClick}\n        onEditProfile={handleEditProfileClick}\n        ></Main>\n\n        <Footer></Footer>\n\n        <EditAvatarPopup\n        isOpen={isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        ></EditAvatarPopup>\n\n        <EditProfilePopup\n        isOpen={isEditProfilePopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateUser}\n        ></EditProfilePopup>\n\n        <AddPhotoPopup\n        isOpen={isAddPhotoPopupOpen}\n        onClose={closeAllPopups}\n        ></AddPhotoPopup>\n\n      </div>\n    </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AACA,SAASC,kBAAT,QAAmC,6BAAnC;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,GAAP,MAAgB,iBAAhB;;;AAGA,SAASC,GAAT,GAAe;EAAA;;EACb,MAAM,CAACC,sBAAD,EAAyBC,mBAAzB,IAAgDb,KAAK,CAACc,QAAN,CAAe,KAAf,CAAtD;EACA,MAAM,CAACC,qBAAD,EAAwBC,kBAAxB,IAA8ChB,KAAK,CAACc,QAAN,CAAe,KAAf,CAApD;EACA,MAAM,CAACG,mBAAD,EAAsBC,gBAAtB,IAA0ClB,KAAK,CAACc,QAAN,CAAe,KAAf,CAAhD;EACA,MAAM,CAACK,WAAD,EAAcC,cAAd,IAAgCpB,KAAK,CAACc,QAAN,CAAe,EAAf,CAAtC;EAEAd,KAAK,CAACqB,SAAN,CAAgB,MAAM;IACpBX,GAAG,CAACY,WAAJ,GACCC,IADD,CACMC,IAAI,IAAI;MACZJ,cAAc,CAACI,IAAD,CAAd;IACD,CAHD,EAICC,KAJD,CAIOC,GAAG,IAAI;MACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD,CAND;EAOD,CARD,EAQG,EARH;;EAUA,SAASG,qBAAT,GAAiC;IAC/Bb,kBAAkB,CAAC,IAAD,CAAlB;EACH;;EAED,SAASc,sBAAT,GAAkC;IAC9BjB,mBAAmB,CAAC,IAAD,CAAnB;EACH;;EAED,SAASkB,mBAAT,GAA+B;IAC3Bb,gBAAgB,CAAC,IAAD,CAAhB;EACH;;EAED,SAASc,cAAT,GAA0B;IACxBd,gBAAgB,CAAC,KAAD,CAAhB;IACAF,kBAAkB,CAAC,KAAD,CAAlB;IACAH,mBAAmB,CAAC,KAAD,CAAnB;EACD;;EAED,SAASoB,kBAAT,OAAsC;IAAA,IAAV;MAACC;IAAD,CAAU;IACpCxB,GAAG,CAACyB,YAAJ,CAAiBD,MAAjB,EACCX,IADD,CACOC,IAAD,IAAU;MACdJ,cAAc,CAACI,IAAD,CAAd;MACAQ,cAAc;IACf,CAJD,EAKCP,KALD,CAKOC,GAAG,IAAI;MACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD,CAPD;EAQD;;EAED,SAASU,gBAAT,CAA0BC,WAA1B,EAAsC;IACpC3B,GAAG,CAAC4B,eAAJ,CAAoBD,WAApB,EACCd,IADD,CACOC,IAAD,IAAU;MACdJ,cAAc,CAACI,IAAD,CAAd;MACAQ,cAAc;IACf,CAJD,EAKCP,KALD,CAKOC,GAAG,IAAI;MACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD,CAPD;EAQD;;EAEC,oBACE,QAAC,kBAAD,CAAoB,QAApB;IAA6B,KAAK,EAAEP,WAApC;IAAA,uBACA;MAAK,SAAS,EAAC,MAAf;MAAA,uBACE;QAAK,SAAS,EAAC,WAAf;QAAA,wBAEE,QAAC,MAAD;UAAA;UAAA;UAAA;QAAA,QAFF,eAIE,QAAC,IAAD;UACA,UAAU,EAAEY,mBADZ;UAEA,YAAY,EAAEF,qBAFd;UAGA,aAAa,EAAEC;QAHf;UAAA;UAAA;UAAA;QAAA,QAJF,eAUE,QAAC,MAAD;UAAA;UAAA;UAAA;QAAA,QAVF,eAYE,QAAC,eAAD;UACA,MAAM,EAAEf,qBADR;UAEA,OAAO,EAAEiB,cAFT;UAGA,cAAc,EAAEC;QAHhB;UAAA;UAAA;UAAA;QAAA,QAZF,eAkBE,QAAC,gBAAD;UACA,MAAM,EAAErB,sBADR;UAEA,OAAO,EAAEoB,cAFT;UAGA,cAAc,EAAEI;QAHhB;UAAA;UAAA;UAAA;QAAA,QAlBF,eAwBE,QAAC,aAAD;UACA,MAAM,EAAEnB,mBADR;UAEA,OAAO,EAAEe;QAFT;UAAA;UAAA;UAAA;QAAA,QAxBF;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA;EADA;IAAA;IAAA;IAAA;EAAA,QADF;AAoCD;;GA5FQrB,G;;KAAAA,G;AA8FT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}