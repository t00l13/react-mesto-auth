{"ast":null,"code":"//ФУНКЦИОНАЛЬНЫЙ КОМПОНЕНТ ДЛЯ ПОПАПА С ФОРМОЙ\nimport React from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PopupWithForm(_ref){var name=_ref.name,title=_ref.title,isOpen=_ref.isOpen,onClose=_ref.onClose,children=_ref.children,btnName=_ref.btnName,onSubmit=_ref.onSubmit,_ref$isDisabled=_ref.isDisabled,isDisabled=_ref$isDisabled===void 0?true:_ref$isDisabled;React.useEffect(function(){if(!isOpen)return;// ЗАКРЫТИЕ ПОПАПА ПО КНОПКЕ ESC\nvar handleEscClose=function handleEscClose(event){if(event.key==='Escape'){onClose();}};// ЗАКРЫТИЕ ПОПАПА ПО КЛИКЕ ВНЕ ОБЛАСТИ\nvar handlePopupClick=function handlePopupClick(event){if(event.target.classList.contains('popup')){onClose();}};//ВЕШАЕМ СЛУШАТЕЛИ \ndocument.addEventListener('keydown',handleEscClose);document.addEventListener('mousedown',handlePopupClick);//УДАЛЯЕМ СЛУШАТЕЛИ\nreturn function(){document.removeEventListener('keydown',handleEscClose);document.removeEventListener('mousedown',handlePopupClick);};},[isOpen,onClose]);return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"popup popup_type_\".concat(name,\"} \").concat(isOpen?'popup_opened':false),id:\"popup-\".concat(name),children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,type:\"button\",className:\"popup__btn-close\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"popup__title popup__title_type_\".concat(name),children:title}),/*#__PURE__*/_jsxs(\"form\",{className:\"popup__form\",name:\"\".concat(name,\"-form\"),onSubmit:onSubmit,noValidate:true,children:[children,/*#__PURE__*/_jsx(\"button\",{type:\"submit\",name:\"button\",className:\"popup__btn-save \".concat(isDisabled&&'popup__btn-save_disable'),disabled:isDisabled,children:btnName})]})]})})});}export default PopupWithForm;","map":{"version":3,"names":["React","PopupWithForm","name","title","isOpen","onClose","children","btnName","onSubmit","isDisabled","useEffect","handleEscClose","event","key","handlePopupClick","target","classList","contains","document","addEventListener","removeEventListener"],"sources":["/Users/toolie/dev/mesto-react/src/components/PopupWithForm.js"],"sourcesContent":["//ФУНКЦИОНАЛЬНЫЙ КОМПОНЕНТ ДЛЯ ПОПАПА С ФОРМОЙ\nimport React from 'react';\n\nfunction PopupWithForm({name, title, isOpen, onClose, children, btnName, onSubmit, isDisabled = true}) {\n\n  React.useEffect(() => {\n\n    if(!isOpen) return;\n// ЗАКРЫТИЕ ПОПАПА ПО КНОПКЕ ESC\n    const handleEscClose = (event) => {\n      if (event.key === 'Escape') {\n        onClose();\n      }\n    };\n// ЗАКРЫТИЕ ПОПАПА ПО КЛИКЕ ВНЕ ОБЛАСТИ\n    const handlePopupClick = (event) => {\n      if (event.target.classList.contains('popup')) {\n        onClose();\n      }\n    }\n//ВЕШАЕМ СЛУШАТЕЛИ \n    document.addEventListener('keydown', handleEscClose);\n    document.addEventListener('mousedown', handlePopupClick);\n//УДАЛЯЕМ СЛУШАТЕЛИ\n    return () => {\n      document.removeEventListener('keydown', handleEscClose);\n      document.removeEventListener('mousedown', handlePopupClick);\n    };\n\n  }, [isOpen, onClose]);\n\n  return (\n    <div>\n      <div className={`popup popup_type_${name}} ${isOpen ? 'popup_opened' : false }`} id={`popup-${name}`}>\n          <div className=\"popup__container\">\n            <button onClick={onClose} type=\"button\" className=\"popup__btn-close\"></button>\n            <h3 className={`popup__title popup__title_type_${name}`}>{title}</h3>\n            <form className=\"popup__form\" name={`${name}-form`} onSubmit={onSubmit} noValidate>\n              {children}\n              <button type=\"submit\" name=\"button\" className={`popup__btn-save ${isDisabled && 'popup__btn-save_disable'}`} disabled={isDisabled}>{btnName}</button>\n            </form>\n          </div>\n      </div>\n    </div>\n  )\n}\n\nexport default PopupWithForm;"],"mappings":"AAAA;AACA,MAAOA,MAAP,KAAkB,OAAlB,C,wFAEA,QAASC,cAAT,MAAuG,IAA/EC,KAA+E,MAA/EA,IAA+E,CAAzEC,KAAyE,MAAzEA,KAAyE,CAAlEC,MAAkE,MAAlEA,MAAkE,CAA1DC,OAA0D,MAA1DA,OAA0D,CAAjDC,QAAiD,MAAjDA,QAAiD,CAAvCC,OAAuC,MAAvCA,OAAuC,CAA9BC,QAA8B,MAA9BA,QAA8B,sBAApBC,UAAoB,CAApBA,UAAoB,0BAAP,IAAO,iBAErGT,KAAK,CAACU,SAAN,CAAgB,UAAM,CAEpB,GAAG,CAACN,MAAJ,CAAY,OAChB;AACI,GAAMO,eAAc,CAAG,QAAjBA,eAAiB,CAACC,KAAD,CAAW,CAChC,GAAIA,KAAK,CAACC,GAAN,GAAc,QAAlB,CAA4B,CAC1BR,OAAO,GACR,CACF,CAJD,CAKJ;AACI,GAAMS,iBAAgB,CAAG,QAAnBA,iBAAmB,CAACF,KAAD,CAAW,CAClC,GAAIA,KAAK,CAACG,MAAN,CAAaC,SAAb,CAAuBC,QAAvB,CAAgC,OAAhC,CAAJ,CAA8C,CAC5CZ,OAAO,GACR,CACF,CAJD,CAKJ;AACIa,QAAQ,CAACC,gBAAT,CAA0B,SAA1B,CAAqCR,cAArC,EACAO,QAAQ,CAACC,gBAAT,CAA0B,WAA1B,CAAuCL,gBAAvC,EACJ;AACI,MAAO,WAAM,CACXI,QAAQ,CAACE,mBAAT,CAA6B,SAA7B,CAAwCT,cAAxC,EACAO,QAAQ,CAACE,mBAAT,CAA6B,WAA7B,CAA0CN,gBAA1C,EACD,CAHD,CAKD,CAxBD,CAwBG,CAACV,MAAD,CAASC,OAAT,CAxBH,EA0BA,mBACE,kCACE,YAAK,SAAS,4BAAsBH,IAAtB,cAA+BE,MAAM,CAAG,cAAH,CAAoB,KAAzD,CAAd,CAAiF,EAAE,iBAAWF,IAAX,CAAnF,uBACI,aAAK,SAAS,CAAC,kBAAf,wBACE,eAAQ,OAAO,CAAEG,OAAjB,CAA0B,IAAI,CAAC,QAA/B,CAAwC,SAAS,CAAC,kBAAlD,EADF,cAEE,WAAI,SAAS,0CAAoCH,IAApC,CAAb,UAA0DC,KAA1D,EAFF,cAGE,cAAM,SAAS,CAAC,aAAhB,CAA8B,IAAI,WAAKD,IAAL,SAAlC,CAAoD,QAAQ,CAAEM,QAA9D,CAAwE,UAAU,KAAlF,WACGF,QADH,cAEE,eAAQ,IAAI,CAAC,QAAb,CAAsB,IAAI,CAAC,QAA3B,CAAoC,SAAS,2BAAqBG,UAAU,EAAI,yBAAnC,CAA7C,CAA6G,QAAQ,CAAEA,UAAvH,UAAoIF,OAApI,EAFF,GAHF,GADJ,EADF,EADF,CAcD,CAED,cAAeN,cAAf"},"metadata":{},"sourceType":"module"}