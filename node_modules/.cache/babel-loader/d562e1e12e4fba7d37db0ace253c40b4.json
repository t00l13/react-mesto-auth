{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React from 'react';\n\nconst useFormWithValidation = () => {\n  _s();\n\n  const [values, setValues] = React.useState({\n    name: '',\n    about: ''\n  });\n  const [err, setIsErrors] = React.useState({\n    name: false,\n    about: false\n  });\n  const [errorMessages, setErrorMessages] = React.useState({\n    name: '',\n    about: ''\n  });\n  const [isFormNotValid, setIsFormNotValid] = React.useState(false);\n  React.useEffect(() => {\n    setIsFormNotValid(isErrors.name || isErrors.about);\n  }, [isErrors.name, isErrors.about]);\n\n  const onChange = evt => {\n    setValues(values => ({ ...values,\n      [evt.target.name]: evt.target.value\n    }));\n    setIsErrors(isErrors => ({ ...isErrors,\n      [evt.target.name]: evt.validity.value\n    }));\n\n    if (!evt.target.validity.value) {\n      setErrorMessages({ ...errorMessages,\n        [evt.target.name]: evt.target.validationMessage\n      });\n    } else {\n      setErrorMessages({ ...errorMessages,\n        [evt.target.name]: ''\n      });\n    }\n  };\n\n  return {\n    values,\n    isErrors,\n    errorMessages,\n    isFormNotValid,\n    setValues,\n    onChange\n  };\n};\n\n_s(useFormWithValidation, \"o5eSEn+6o632g+bnk2Qi0gPDcxs=\");\n\nexport default useFormWithValidation;","map":{"version":3,"names":["React","useFormWithValidation","values","setValues","useState","name","about","err","setIsErrors","errorMessages","setErrorMessages","isFormNotValid","setIsFormNotValid","useEffect","isErrors","onChange","evt","target","value","validity","validationMessage"],"sources":["/Users/toolie/dev/mesto-react/src/utils/hooks/useFormWithValidation.js"],"sourcesContent":["import React from 'react';\n\nconst useFormWithValidation = () => {\n    const [values, setValues] = React.useState({name: '', about: ''});\n    const [err, setIsErrors] = React.useState({name: false, about: false});\n    const [errorMessages, setErrorMessages] = React.useState({name: '', about: ''});\n    const [isFormNotValid, setIsFormNotValid] = React.useState(false);\n\n    React.useEffect(() => {\n        setIsFormNotValid(isErrors.name || isErrors.about);\n    }, [isErrors.name, isErrors.about]);\n\n    const onChange = (evt) => {\n        setValues((values) => ({...values, [evt.target.name]: evt.target.value}));\n        setIsErrors((isErrors) => ({...isErrors, [evt.target.name]: evt.validity.value}));\n        if(!evt.target.validity.value) {\n            setErrorMessages({...errorMessages, [evt.target.name]: evt.target.validationMessage});\n        } else {\n            setErrorMessages({...errorMessages, [evt.target.name]: ''});\n        }\n    };\n\n    return {\n        values,\n        isErrors,\n        errorMessages,\n        isFormNotValid,\n        setValues,\n        onChange,\n    }\n};\n\nexport default useFormWithValidation;"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,qBAAqB,GAAG,MAAM;EAAA;;EAChC,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBH,KAAK,CAACI,QAAN,CAAe;IAACC,IAAI,EAAE,EAAP;IAAWC,KAAK,EAAE;EAAlB,CAAf,CAA5B;EACA,MAAM,CAACC,GAAD,EAAMC,WAAN,IAAqBR,KAAK,CAACI,QAAN,CAAe;IAACC,IAAI,EAAE,KAAP;IAAcC,KAAK,EAAE;EAArB,CAAf,CAA3B;EACA,MAAM,CAACG,aAAD,EAAgBC,gBAAhB,IAAoCV,KAAK,CAACI,QAAN,CAAe;IAACC,IAAI,EAAE,EAAP;IAAWC,KAAK,EAAE;EAAlB,CAAf,CAA1C;EACA,MAAM,CAACK,cAAD,EAAiBC,iBAAjB,IAAsCZ,KAAK,CAACI,QAAN,CAAe,KAAf,CAA5C;EAEAJ,KAAK,CAACa,SAAN,CAAgB,MAAM;IAClBD,iBAAiB,CAACE,QAAQ,CAACT,IAAT,IAAiBS,QAAQ,CAACR,KAA3B,CAAjB;EACH,CAFD,EAEG,CAACQ,QAAQ,CAACT,IAAV,EAAgBS,QAAQ,CAACR,KAAzB,CAFH;;EAIA,MAAMS,QAAQ,GAAIC,GAAD,IAAS;IACtBb,SAAS,CAAED,MAAD,KAAa,EAAC,GAAGA,MAAJ;MAAY,CAACc,GAAG,CAACC,MAAJ,CAAWZ,IAAZ,GAAmBW,GAAG,CAACC,MAAJ,CAAWC;IAA1C,CAAb,CAAD,CAAT;IACAV,WAAW,CAAEM,QAAD,KAAe,EAAC,GAAGA,QAAJ;MAAc,CAACE,GAAG,CAACC,MAAJ,CAAWZ,IAAZ,GAAmBW,GAAG,CAACG,QAAJ,CAAaD;IAA9C,CAAf,CAAD,CAAX;;IACA,IAAG,CAACF,GAAG,CAACC,MAAJ,CAAWE,QAAX,CAAoBD,KAAxB,EAA+B;MAC3BR,gBAAgB,CAAC,EAAC,GAAGD,aAAJ;QAAmB,CAACO,GAAG,CAACC,MAAJ,CAAWZ,IAAZ,GAAmBW,GAAG,CAACC,MAAJ,CAAWG;MAAjD,CAAD,CAAhB;IACH,CAFD,MAEO;MACHV,gBAAgB,CAAC,EAAC,GAAGD,aAAJ;QAAmB,CAACO,GAAG,CAACC,MAAJ,CAAWZ,IAAZ,GAAmB;MAAtC,CAAD,CAAhB;IACH;EACJ,CARD;;EAUA,OAAO;IACHH,MADG;IAEHY,QAFG;IAGHL,aAHG;IAIHE,cAJG;IAKHR,SALG;IAMHY;EANG,CAAP;AAQH,CA5BD;;GAAMd,qB;;AA8BN,eAAeA,qBAAf"},"metadata":{},"sourceType":"module"}