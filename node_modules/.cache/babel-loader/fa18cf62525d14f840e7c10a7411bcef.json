{"ast":null,"code":"import React from'react';import PopupWithForm from'./PopupWithForm';import useFormWithValidation from'../utils/hooks/useFormWithValidation';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditAvatarPopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateAvatar=_ref.onUpdateAvatar,isRender=_ref.isRender;var _useFormWithValidatio=useFormWithValidation(),values=_useFormWithValidatio.values,errors=_useFormWithValidatio.errors,isValid=_useFormWithValidatio.isValid,onChange=_useFormWithValidatio.onChange,resetForm=_useFormWithValidatio.resetForm;var avatarRef=React.useRef();function handleSubmit(evt){evt.preventDefault();onUpdateAvatar(avatarRef.current.value);onUpdateAvatar(values.link);}React.useEffect(function(){avatarRef.current.value='';resetForm();},[isOpen,resetForm]);return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"change-avatar\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",isOpen:isOpen,btnName:isRender?'Сохранение...':'Сохранить',onClose:onClose,onSubmit:handleSubmit,isDisabled:!isValid,children:[/*#__PURE__*/_jsx(\"input\",{ref:avatarRef,onChange:onChange,className:\"popup__input popup__input_type_change-avatar-link\",type:\"url\",id:\"avatar-input\",name:\"link\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",minLength:\"2\",maxLength:\"200\",required:true}),/*#__PURE__*/_jsx(\"span\",{id:\"avatar-input-error\",className:\"popup__input-error \".concat(!isValid.link?'popup__input-error_active':'',\" \"),children:errors.link||''})]});}export default EditAvatarPopup;","map":{"version":3,"names":["React","PopupWithForm","useFormWithValidation","EditAvatarPopup","isOpen","onClose","onUpdateAvatar","isRender","values","errors","isValid","onChange","resetForm","avatarRef","useRef","handleSubmit","evt","preventDefault","current","value","link","useEffect"],"sources":["/Users/toolie/dev/mesto-react/src/components/EditAvatarPopup.js"],"sourcesContent":["import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport useFormWithValidation from '../utils/hooks/useFormWithValidation';\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar, isRender}) {\n    const {\n        values,\n        errors,\n        isValid,\n        onChange,\n        resetForm,\n    } = useFormWithValidation();\n\n    const avatarRef = React.useRef();\n\n    function handleSubmit(evt) {\n        evt.preventDefault();\n        onUpdateAvatar(avatarRef.current.value);\n        onUpdateAvatar(values.link)\n    }\n\n    React.useEffect(() => {\n        avatarRef.current.value ='';\n        resetForm()\n    }, [isOpen, resetForm]);\n\n    return (\n        <PopupWithForm\n        name='change-avatar'\n        title='Обновить аватар'\n        isOpen={isOpen}\n        btnName={isRender ? 'Сохранение...' : 'Сохранить'}\n        onClose={onClose}\n        onSubmit={handleSubmit}\n        isDisabled={!isValid}>\n            <input ref={avatarRef} onChange={onChange} className=\"popup__input popup__input_type_change-avatar-link\" type=\"url\" id=\"avatar-input\" name=\"link\" placeholder=\"Ссылка на картинку\" minLength=\"2\" maxLength=\"200\" required />\n            <span id=\"avatar-input-error\" className={`popup__input-error ${!isValid.link ? 'popup__input-error_active' : ''} `}>{errors.link || ''}</span>\n        </PopupWithForm>\n    );\n}\n\nexport default EditAvatarPopup;"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,MAAOC,cAAP,KAA0B,iBAA1B,CACA,MAAOC,sBAAP,KAAkC,sCAAlC,C,wFAEA,QAASC,gBAAT,MAAsE,IAA5CC,OAA4C,MAA5CA,MAA4C,CAApCC,OAAoC,MAApCA,OAAoC,CAA3BC,cAA2B,MAA3BA,cAA2B,CAAXC,QAAW,MAAXA,QAAW,CAClE,0BAMIL,qBAAqB,EANzB,CACIM,MADJ,uBACIA,MADJ,CAEIC,MAFJ,uBAEIA,MAFJ,CAGIC,OAHJ,uBAGIA,OAHJ,CAIIC,QAJJ,uBAIIA,QAJJ,CAKIC,SALJ,uBAKIA,SALJ,CAQA,GAAMC,UAAS,CAAGb,KAAK,CAACc,MAAN,EAAlB,CAEA,QAASC,aAAT,CAAsBC,GAAtB,CAA2B,CACvBA,GAAG,CAACC,cAAJ,GACAX,cAAc,CAACO,SAAS,CAACK,OAAV,CAAkBC,KAAnB,CAAd,CACAb,cAAc,CAACE,MAAM,CAACY,IAAR,CAAd,CACH,CAEDpB,KAAK,CAACqB,SAAN,CAAgB,UAAM,CAClBR,SAAS,CAACK,OAAV,CAAkBC,KAAlB,CAAyB,EAAzB,CACAP,SAAS,GACZ,CAHD,CAGG,CAACR,MAAD,CAASQ,SAAT,CAHH,EAKA,mBACI,MAAC,aAAD,EACA,IAAI,CAAC,eADL,CAEA,KAAK,CAAC,uFAFN,CAGA,MAAM,CAAER,MAHR,CAIA,OAAO,CAAEG,QAAQ,CAAG,eAAH,CAAqB,WAJtC,CAKA,OAAO,CAAEF,OALT,CAMA,QAAQ,CAAEU,YANV,CAOA,UAAU,CAAE,CAACL,OAPb,wBAQI,cAAO,GAAG,CAAEG,SAAZ,CAAuB,QAAQ,CAAEF,QAAjC,CAA2C,SAAS,CAAC,mDAArD,CAAyG,IAAI,CAAC,KAA9G,CAAoH,EAAE,CAAC,cAAvH,CAAsI,IAAI,CAAC,MAA3I,CAAkJ,WAAW,CAAC,oGAA9J,CAAmL,SAAS,CAAC,GAA7L,CAAiM,SAAS,CAAC,KAA3M,CAAiN,QAAQ,KAAzN,EARJ,cASI,aAAM,EAAE,CAAC,oBAAT,CAA8B,SAAS,8BAAwB,CAACD,OAAO,CAACU,IAAT,CAAgB,2BAAhB,CAA8C,EAAtE,KAAvC,UAAqHX,MAAM,CAACW,IAAP,EAAe,EAApI,EATJ,GADJ,CAaH,CAED,cAAejB,gBAAf"},"metadata":{},"sourceType":"module"}